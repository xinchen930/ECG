# Conda environment for Video-to-ECG reconstruction
#
# 创建环境:
#   conda env create -f environment.yaml
#
# 激活环境:
#   conda activate ecg
#
# 更新环境:
#   conda env update -f environment.yaml --prune

name: ecg
channels:
  - conda-forge
  - defaults

dependencies:
  # Python
  - python=3.10

  # 数据处理
  - numpy
  - pandas
  - scipy

  # 视频处理 (conda-forge 版本更稳定)
  - opencv

  # 可视化
  - matplotlib

  # 配置文件
  - pyyaml

  # Jupyter (可选，用于 notebook)
  - jupyter
  - ipykernel

  # pip 安装的包
  - pip
  - pip:
    # PyTorch with CUDA 12.6 (支持 Blackwell 架构)
    # 注意：conda 没有 pytorch-cuda=12.6，必须用 pip 安装
    - --extra-index-url https://download.pytorch.org/whl/cu126
    - torch>=2.5
    - torchvision
    - torchaudio
    # opencv 备用
    - opencv-python-headless
