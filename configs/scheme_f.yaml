# Scheme F: EfficientPhys - Temporal-Spatial Attention for Video → ECG
# End-to-end model with efficient temporal-spatial factorization
# 3090 (24GB): ✅ batch=8-16 with AMP
# A6000 (48GB): ✅ batch=16-32
scheme_name: scheme_f

data:
  samples_dir: training_data/samples
  window_seconds: 10
  stride_seconds: 5
  video_fps: 30
  ecg_sr: 250
  img_height: 64
  img_width: 64
  use_imu: false
  use_diff_frames: false
  use_1d_signal: false
  num_workers: 4
  quality_filter: "good,moderate"
  quality_csv: eval_results/ppg_analysis_all_samples.csv

split:
  mode: user
  train_users: [fzq, fcy, wjy, czq, syw, wcp, yjw, yyh]
  val_users: [nxs]
  test_users: [lrk, fhy]

model:
  type: efficientphys
  in_channels: 3
  base_channels: 32
  n_blocks: 4
  dropout: 0.1

train:
  epochs: 100
  batch_size: 8             # 3090: 8, A6000: 16-32
  gradient_accumulation_steps: 2  # Effective batch = 16
  use_amp: true             # Mixed precision training
  lr: 1.0e-4
  weight_decay: 1.0e-4
  patience: 20
  grad_clip: 1.0
  seed: 42
  loss: composite
  alpha_freq: 0.1
  beta_pearson: 0.1
