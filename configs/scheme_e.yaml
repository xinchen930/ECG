# Scheme E: 1D UNet for PPG â†’ ECG reconstruction
# Uses encoder-decoder with skip connections to preserve fine-grained details
# Input: Red channel (best for finger transmissive PPG - validated 8/10 HR detection)
scheme_name: scheme_e

data:
  samples_dir: training_data/samples
  window_seconds: 10
  stride_seconds: 5
  video_fps: 30
  ecg_sr: 250
  img_height: 64    # Only used for video loading, not model
  img_width: 64
  use_imu: false
  use_diff_frames: false
  use_1d_signal: true
  # Channel selection: "red_channel" (best for finger PPG), "green_channel", "rgb_channels"
  input_type: red_channel
  num_workers: 4
  # Quality filtering - exclude poor samples (HR detection failures)
  quality_filter: "good,moderate"   # Options: "good" / "good,moderate" / null (all)
  quality_csv: eval_results/ppg_analysis_all_samples.csv

split:
  mode: user
  train_users: [fzq, fcy, wjy, czq, syw, wcp, yjw, yyh]
  val_users: [nxs]
  test_users: [lrk, fhy]

model:
  type: unet_1d
  in_channels: 1          # 1 for green channel, 3 for RGB
  base_channels: 32       # Base number of channels (doubles at each depth)
  depth: 4                # Number of encoder/decoder levels
  kernel_size: 7          # Convolution kernel size
  dropout: 0.1

train:
  epochs: 200
  batch_size: 64          # Very lightweight, can use large batch
  lr: 1.0e-3
  weight_decay: 1.0e-4
  patience: 30
  grad_clip: 1.0
  seed: 42
  loss: composite
  alpha_freq: 0.1
  beta_pearson: 0.1
